{"version":3,"sources":["../../../../src/CommunicationSystem/SocketCommunicationSystem/ASocketCommunicationSystem.es6"],"names":["ASocketCommunicationSystem","name","CONSTANT","SOCKET_COMMUNICATION_SYSTEM","ABSTRACT_SOCKET_COMMUNICATION_SYSTEM","active","incomingMessageListeningFunction","Errors","Utils","getFunctionName","Promise","_","reject","func","context","push","filter","x"],"mappings":";;;;;;;;;;;;;AAKA;;AACA;;AACA;;AAPA;AACA;AACA;AAEA;;AAKA;;;IAGqBA,0B;;;AACnB,wCAAc;AAAA;AACZ;AACA,SAAKC,IAAL,GAAYC,qBAASC,2BAAT,CAAqCC,oCAAjD,CAFY,CAIZ;;AACA,SAAKC,MAAL,GAAc,KAAd,CALY,CAOZ;;AACA,SAAKC,gCAAL,GAAwC,EAAxC;AACD;AAED;;;;;;;;8BAIU;AACR,aAAO,KAAKL,IAAZ;AACD;AAED;;;;;;;4BAIQA,I,EAAM;AACZ,WAAKA,IAAL,GAAYA,IAAZ;AACD;AAED;;;;;;;gCAIY;AACV,YAAM,IAAIM,kBAAJ,8CAAiDC,kBAAMC,eAAN,EAAjD,YAAN;AACD;AAED;;;;;;;4BAIQ;AACN,aAAO,IAAIC,OAAJ,CAAY,UAACC,CAAD,EAAIC,MAAJ;AAAA,eAAeA,MAAM,CAAC,IAAIL,kBAAJ,CAAW,OAAX,2CAAsDC,kBAAMC,eAAN,EAAtD,YAAD,CAArB;AAAA,OAAZ,CAAP;AACD;AAED;;;;;;;2BAIO;AACL,aAAO,IAAIC,OAAJ,CAAY,UAACC,CAAD,EAAIC,MAAJ;AAAA,eAAeA,MAAM,CAAC,IAAIL,kBAAJ,CAAW,OAAX,0CAAqDC,kBAAMC,eAAN,EAArD,YAAD,CAArB;AAAA,OAAZ,CAAP;AACD;AAED;;;;;;;+BAIW;AACT,aAAO,KAAKJ,MAAZ;AACD;AAED;;;;;;;kCAIc;AACZ,YAAM,IAAIE,kBAAJ,CAAW,OAAX,iDAA4DC,kBAAMC,eAAN,EAA5D,YAAN;AACD;AAED;;;;;;;;4CAKwBI,I,EAAMC,O,EAAS;AACrC,WAAKR,gCAAL,CAAsCS,IAAtC,CAA2C;AACzCF,QAAAA,IAAI,EAAJA,IADyC;AAEzCC,QAAAA,OAAO,EAAPA;AAFyC,OAA3C;AAID;AAED;;;;;;;8CAI0BD,I,EAAM;AAC9B,WAAKP,gCAAL,GAAwC,KAAKA,gCAAL,CAAsCU,MAAtC,CAA6C,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACJ,IAAF,KAAWA,IAAf;AAAA,OAA9C,CAAxC;AACD","sourcesContent":["//\n// Copyright (c) 2016 by Cotep. All Rights Reserved.\n//\n\n// Imports\nimport CONSTANT from '../../Utils/CONSTANT/CONSTANT.js';\nimport Utils from '../../Utils/Utils.js';\nimport Errors from '../../Utils/Errors.js';\n\n/**\n * This abstract class described what a socket communication system class must offer\n */\nexport default class ASocketCommunicationSystem {\n  constructor() {\n    // Setup a name\n    this.name = CONSTANT.SOCKET_COMMUNICATION_SYSTEM.ABSTRACT_SOCKET_COMMUNICATION_SYSTEM;\n\n    // Say the communication system is not active\n    this.active = false;\n\n    // Function that get called when a new message get received\n    this.incomingMessageListeningFunction = [];\n  }\n\n  /**\n   * Getter\n   * @return {String}\n   */\n  getName() {\n    return this.name;\n  }\n\n  /**\n   * Setter\n   * @param {String} name\n   */\n  setName(name) {\n    this.name = name;\n  }\n\n  /**\n   * Return an object that can be used to act the communication system\n   * @abstract\n   */\n  getSocket() {\n    throw new Errors(`Unimplemented getSocket methods in ${Utils.getFunctionName()} child`);\n  }\n\n  /**\n   * Start the communication system\n   * @abstract\n   */\n  start() {\n    return new Promise((_, reject) => reject(new Errors('EXXXX', `Unimplemented start methods in ${Utils.getFunctionName()} child`)));\n  }\n\n  /**\n   * Stop the communication system\n   * @abstract\n   */\n  stop() {\n    return new Promise((_, reject) => reject(new Errors('EXXXX', `Unimplemented stop methods in ${Utils.getFunctionName()} child`)));\n  }\n\n  /**\n   * Is the communication sytem active?\n   * @return {Boolean}\n   */\n  isActive() {\n    return this.active;\n  }\n\n  /**\n   * Send a message\n   * @abstract\n   */\n  sendMessage() {\n    throw new Errors('EXXXX', `Unimplemented sendMessage methods in ${Utils.getFunctionName()} child`);\n  }\n\n  /**\n   * Push the function that will handle incoming regular message (no keepAlive messages or others specific)\n   * @param {Function} func\n   * @param {Object} context\n   */\n  listenToIncomingMessage(func, context) {\n    this.incomingMessageListeningFunction.push({\n      func,\n      context,\n    });\n  }\n\n  /**\n   * Pull the function that will handle incoming regular message (no keepAlive messages or others specific)\n   * @param {Function} func\n   */\n  unlistenToIncomingMessage(func) {\n    this.incomingMessageListeningFunction = this.incomingMessageListeningFunction.filter(x => x.func !== func);\n  }\n}\n"],"file":"ASocketCommunicationSystem.js"}